{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?b671","webpack:///./src/components/Shaper.vue?d997","webpack:///./src/lib/CanvasRenderer.js","webpack:///./src/lib/Curver.js","webpack:///src/components/Shaper.vue","webpack:///./src/components/Shaper.vue?af14","webpack:///./src/components/Shaper.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Shaper.vue?68a6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","_m","CanvasRenderer","cvs","ctx","getContext","width","clientWidth","height","clientHeight","randomColors","randomIndex","clearRect","curve","evt","strokeStyle","fillStyle","lineWidth","mouse","x","offsetX","y","offsetY","func","restore","a","replace","offset","nocoords","pts","points","drawLine","drawPoints","ox","oy","beginPath","moveTo","quadraticCurveTo","bezierCurveTo","stroke","closePath","p1","p2","lineTo","arc","Math","PI","forEach","drawCircle","e","fill","bbox","min","max","hull","shape","order","forward","startcap","endcap","back","text","fillText","getT","steps","bestT","undefined","bestDist","step","curP","dist","Victor","BaseInteraction","canvas","opts","setup","down","_onMouseDown","addEventListener","move","_onMouseMove","up","_onMouseUp","click","_onClick","dblclick","_onDoubleClick","addCleanup","removeEventListener","_cleanupFuncs","mouseDownCallback","onMouseDown","mouseMoveCallback","onMouseMove","mouseUpCallback","onMouseUp","clickCallback","onClick","doubleClickCallback","onDoubleClick","event","rect","target","srcElement","getBoundingClientRect","clientX","left","clientY","top","CurveInteraction","renderer","curveThickness","curveHoverCallback","curveClickCallback","curveClickAtCallback","curveIsHovered","_getCanvasOffset","isHovered","isOverCurve","project","vector","CurveHandlesInteraction","fixedPoints","downPos","hoverPoint","dragPoint","dragPointStartPos","radius","handleRadius","find","distance","point","_pointForOffset","indexOf","style","cursor","hoverPointCallback","dragX","dragY","update","updateCallback","endDragCallback","pointDoubleClickCallback","pointRemoveCallback","idx","createCircleCurves","handleLength","Bezier","getInvalidCurves","curves","offsetAmount","boundingBox","drillbitRadius","invalid","makeInvalid","alreadyInvalid","drillbitCurves","intersecting","dc","cc","intersects","drillbitErrorsCallback","Curver","addCurve","validate","draw","resize","onWindowResize","cleanupFuncs","removeCurve","f","clear","setColor","drawbbox","_getMirrored","drawCurve","drawSkeleton","hoveredPoint","curveInteractions","int","setLineWidth","offsetCurves","offsetRadius","invalidCurves","drillbitErrors","validationTimeout","clearTimeout","setTimeout","validationDelay","curveInt","splitCurveAt","handlesInt","interaction","cut","handlesInteractions","cleanup","split","oldfixed","right","console","warn","xaxis","flip","mirrored","map","pp","pidx","pointIndex","removedPoint","neighbour","props","created","mounted","curver","component","components","Shaper","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.2f401c2d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Shaper')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shaper\"}},[_c('canvas',{attrs:{\"width\":\"100vw\",\"height\":\"\"}})])}]\n\nexport { render, staticRenderFns }","// copied and adepted from:\n// http://pomax.github.io/bezierjs/js/draw.js\n\nexport class CanvasRenderer {\n  constructor(cvs) {\n    this.cvs = cvs;\n    this.ctx = cvs.getContext('2d');\n\n    this.cvs.width = this.cvs.clientWidth;\n    this.cvs.height = this.cvs.clientHeight;\n\n    this.randomColors = [];\n    for(var i=0,j; i<360; i++) {\n      j = (i*47)%360;\n      this.randomColors.push(\"hsl(\"+j+\",50%,50%)\");\n    }\n    this.randomIndex = 0;\n  }\n\n  getCanvas() { return this.cvs; }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.cvs.width, this.cvs.height);\n  }\n\n  reset(curve, evt) {\n    // cvs.width = cvs.width;\n    this.ctx.strokeStyle = \"black\";\n    this.ctx.fillStyle = \"none\";\n    this.ctx.lineWidth = 1;\n    if (evt && curve) {\n      curve.mouse = {x: evt.offsetX, y: evt.offsetY};\n    }\n    this.randomIndex = 0;\n  }\n\n  setColor(c, func) {\n    const restore = this.ctx.strokeStyle;\n    this.ctx.strokeStyle = c;\n\n    if (func) {\n      func();\n      this.ctx.strokeStyle = restore;\n    }\n  }\n\n  noColor() {\n    this.ctx.strokeStyle = \"transparent\";\n  }\n\n  setLineWidth(width, func) {\n    const restore = this.ctx.lineWidth;\n    this.ctx.lineWidth = width;\n\n    if (func) {\n      func();\n      this.ctx.lineWidth = restore;\n    }\n  }\n\n  setRandomColor() {\n    this.randomIndex = (this.randomIndex+1) % this.randomColors.length;\n    var c = this.randomColors[this.randomIndex];\n    this.ctx.strokeStyle = c;\n  }\n\n  setRandomFill(a) {\n    this.randomIndex = (this.randomIndex+1) % this.randomColors.length;\n    a = (typeof a === \"undefined\") ? 1 : a;\n    var c = this.randomColors[this.randomIndex];\n    c = c.replace('hsl(','hsla(').replace(')',','+a+')');\n    this.ctx.fillStyle = c;\n  }\n\n  setFill(c) {\n    this.ctx.fillStyle = c;\n  }\n\n  noFill() {\n    this.ctx.fillStyle = \"transparent\";\n  }\n\n  drawSkeleton(curve, offset, nocoords) {\n    offset = offset || { x:0, y:0 };\n    var pts = curve.points;\n    this.ctx.strokeStyle = \"lightgrey\";\n    this.drawLine(pts[0], pts[1], offset);\n    if(pts.length === 3) { this.drawLine(pts[1], pts[2], offset); }\n    else {this.drawLine(pts[2], pts[3], offset); }\n    this.ctx.strokeStyle = \"black\";\n    if(!nocoords) this.drawPoints(pts, offset);\n  }\n\n  drawCurve(curve, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    var p = curve.points; //, i;\n    this.ctx.moveTo(p[0].x + ox, p[0].y + oy);\n    if(p.length === 3) {\n      this.ctx.quadraticCurveTo(\n        p[1].x + ox, p[1].y + oy,\n        p[2].x + ox, p[2].y + oy\n      );\n    }\n    if(p.length === 4) {\n      this.ctx.bezierCurveTo(\n        p[1].x + ox, p[1].y + oy,\n        p[2].x + ox, p[2].y + oy,\n        p[3].x + ox, p[3].y + oy\n      );\n    }\n    this.ctx.stroke();\n    this.ctx.closePath();\n  }\n\n  drawLine(p1, p2, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    this.ctx.moveTo(p1.x + ox,p1.y + oy);\n    this.ctx.lineTo(p2.x + ox,p2.y + oy);\n    this.ctx.stroke();\n  }\n\n  drawPoint(p, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    this.ctx.arc(p.x + ox, p.y + oy, 5, 0, 2*Math.PI);\n    this.ctx.stroke();\n  }\n\n  drawPoints(points, offset) {\n    offset = offset || { x:0, y:0 };\n    points.forEach(function(p) {\n      this.drawCircle(p, 3, offset);\n    }.bind(this));\n  }\n\n  drawArc(p, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    this.ctx.moveTo(p.x + ox, p.y + oy);\n    this.ctx.arc(p.x + ox, p.y + oy, p.r, p.s, p.e);\n    this.ctx.lineTo(p.x + ox, p.y + oy);\n    this.ctx.fill();\n    this.ctx.stroke();\n  }\n\n  drawCircle(p, r, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    this.ctx.arc(p.x + ox, p.y + oy, r, 0, 2*Math.PI);\n    this.ctx.stroke();\n  }\n\n  drawbbox(bbox, offset) {\n    offset = offset || { x:0, y:0 };\n    var ox = offset.x;\n    var oy = offset.y;\n    this.ctx.beginPath();\n    this.ctx.moveTo(bbox.x.min + ox, bbox.y.min + oy);\n    this.ctx.lineTo(bbox.x.min + ox, bbox.y.max + oy);\n    this.ctx.lineTo(bbox.x.max + ox, bbox.y.max + oy);\n    this.ctx.lineTo(bbox.x.max + ox, bbox.y.min + oy);\n    this.ctx.closePath();\n    this.ctx.stroke();\n  }\n\n  drawHull(hull/*, offset*/) {\n    this.ctx.beginPath();\n    if(hull.length === 6) {\n      this.ctx.moveTo(hull[0].x, hull[0].y);\n      this.ctx.lineTo(hull[1].x, hull[1].y);\n      this.ctx.lineTo(hull[2].x, hull[2].y);\n      this.ctx.moveTo(hull[3].x, hull[3].y);\n      this.ctx.lineTo(hull[4].x, hull[4].y);\n    } else {\n      this.ctx.moveTo(hull[0].x, hull[0].y);\n      this.ctx.lineTo(hull[1].x, hull[1].y);\n      this.ctx.lineTo(hull[2].x, hull[2].y);\n      this.ctx.lineTo(hull[3].x, hull[3].y);\n      this.ctx.moveTo(hull[4].x, hull[4].y);\n      this.ctx.lineTo(hull[5].x, hull[5].y);\n      this.ctx.lineTo(hull[6].x, hull[6].y);\n      this.ctx.moveTo(hull[7].x, hull[7].y);\n      this.ctx.lineTo(hull[8].x, hull[8].y);\n    }\n    this.ctx.stroke();\n  }\n\n  drawShape(shape, offset) {\n    offset = offset || { x:0, y:0 };\n    var order = shape.forward.points.length - 1;\n    this.ctx.beginPath();\n    this.ctx.moveTo(offset.x + shape.startcap.points[0].x, offset.y + shape.startcap.points[0].y);\n    this.ctx.lineTo(offset.x + shape.startcap.points[3].x, offset.y + shape.startcap.points[3].y);\n    if(order === 3) {\n      this.ctx.bezierCurveTo(\n        offset.x + shape.forward.points[1].x, offset.y + shape.forward.points[1].y,\n        offset.x + shape.forward.points[2].x, offset.y + shape.forward.points[2].y,\n        offset.x + shape.forward.points[3].x, offset.y + shape.forward.points[3].y\n      );\n    } else {\n      this.ctx.quadraticCurveTo(\n        offset.x + shape.forward.points[1].x, offset.y + shape.forward.points[1].y,\n        offset.x + shape.forward.points[2].x, offset.y + shape.forward.points[2].y\n      );\n    }\n    this.ctx.lineTo(offset.x + shape.endcap.points[3].x, offset.y + shape.endcap.points[3].y);\n    if(order === 3) {\n      this.ctx.bezierCurveTo(\n        offset.x + shape.back.points[1].x, offset.y + shape.back.points[1].y,\n        offset.x + shape.back.points[2].x, offset.y + shape.back.points[2].y,\n        offset.x + shape.back.points[3].x, offset.y + shape.back.points[3].y\n      );\n    } else {\n      this.ctx.quadraticCurveTo(\n        offset.x + shape.back.points[1].x, offset.y + shape.back.points[1].y,\n        offset.x + shape.back.points[2].x, offset.y + shape.back.points[2].y\n      );\n    }\n    this.ctx.closePath();\n    this.ctx.fill();\n    this.ctx.stroke();\n  }\n\n  drawText(text, offset) {\n    offset = offset || { x:0, y:0 };\n    this.ctx.fillText(text, offset.x, offset.y);\n  }\n\n}\n\n// export function bindDrawFunctions(cvs) {\n\n//   // var figure = find(\"figure\")[idx];\n//   // var cvs = document.createElement(\"canvas\");\n//   // cvs.width = 200;\n//   // cvs.height = 200;\n//   var ctx = cvs.getContext(\"2d\");\n//   // figure.appendChild(cvs);\n//   // var button = figure.querySelector(\"button\");\n//   // if(button) { figure.appendChild(button); }\n\n//   var randomColors = [];\n//   for(var i=0,j; i<360; i++) {\n//     j = (i*47)%360;\n//     randomColors.push(\"hsl(\"+j+\",50%,50%)\");\n//   }\n//   var randomIndex = 0;\n\n//   return {\n//     getCanvas: function() { return cvs; },\n\n//     reset: function(curve, evt) {\n//       // cvs.width = cvs.width;\n//       ctx.strokeStyle = \"black\";\n//       ctx.fillStyle = \"none\";\n//       if (evt && curve) {\n//         curve.mouse = {x: evt.offsetX, y: evt.offsetY};\n//       }\n//       randomIndex = 0;\n//     },\n\n//     setColor: function(c) {\n//       ctx.strokeStyle = c;\n//     },\n\n//     noColor: function() {\n//       ctx.strokeStyle = \"transparent\";\n//     },\n\n//     setRandomColor: function() {\n//       randomIndex = (randomIndex+1) % randomColors.length;\n//       var c = randomColors[randomIndex];\n//       ctx.strokeStyle = c;\n//     },\n\n//     setRandomFill: function(a) {\n//       randomIndex = (randomIndex+1) % randomColors.length;\n//       a = (typeof a === \"undefined\") ? 1 : a;\n//       var c = randomColors[randomIndex];\n//       c = c.replace('hsl(','hsla(').replace(')',','+a+')');\n//       ctx.fillStyle = c;\n//     },\n\n//     setFill: function(c) {\n//       ctx.fillStyle = c;\n//     },\n\n//     noFill: function() {\n//       ctx.fillStyle = \"transparent\";\n//     },\n\n//     drawSkeleton: function(curve, offset, nocoords) {\n//       offset = offset || { x:0, y:0 };\n//       var pts = curve.points;\n//       ctx.strokeStyle = \"lightgrey\";\n//       this.drawLine(pts[0], pts[1], offset);\n//       if(pts.length === 3) { this.drawLine(pts[1], pts[2], offset); }\n//       else {this.drawLine(pts[2], pts[3], offset); }\n//       ctx.strokeStyle = \"black\";\n//       if(!nocoords) this.drawPoints(pts, offset);\n//     },\n\n//     drawCurve: function(curve, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       var p = curve.points; //, i;\n//       ctx.moveTo(p[0].x + ox, p[0].y + oy);\n//       if(p.length === 3) {\n//         ctx.quadraticCurveTo(\n//           p[1].x + ox, p[1].y + oy,\n//           p[2].x + ox, p[2].y + oy\n//         );\n//       }\n//       if(p.length === 4) {\n//         ctx.bezierCurveTo(\n//           p[1].x + ox, p[1].y + oy,\n//           p[2].x + ox, p[2].y + oy,\n//           p[3].x + ox, p[3].y + oy\n//         );\n//       }\n//       ctx.stroke();\n//       ctx.closePath();\n//     },\n\n//     drawLine: function(p1, p2, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       ctx.moveTo(p1.x + ox,p1.y + oy);\n//       ctx.lineTo(p2.x + ox,p2.y + oy);\n//       ctx.stroke();\n//     },\n\n//     drawPoint: function(p, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       ctx.arc(p.x + ox, p.y + oy, 5, 0, 2*Math.PI);\n//       ctx.stroke();\n//     },\n\n//     drawPoints: function(points, offset) {\n//       offset = offset || { x:0, y:0 };\n//       points.forEach(function(p) {\n//         this.drawCircle(p, 3, offset);\n//       }.bind(this));\n//     },\n\n//     drawArc: function(p, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       ctx.moveTo(p.x + ox, p.y + oy);\n//       ctx.arc(p.x + ox, p.y + oy, p.r, p.s, p.e);\n//       ctx.lineTo(p.x + ox, p.y + oy);\n//       ctx.fill();\n//       ctx.stroke();\n//     },\n\n//     drawCircle: function(p, r, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       ctx.arc(p.x + ox, p.y + oy, r, 0, 2*Math.PI);\n//       ctx.stroke();\n//     },\n\n//     drawbbox: function(bbox, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var ox = offset.x;\n//       var oy = offset.y;\n//       ctx.beginPath();\n//       ctx.moveTo(bbox.x.min + ox, bbox.y.min + oy);\n//       ctx.lineTo(bbox.x.min + ox, bbox.y.max + oy);\n//       ctx.lineTo(bbox.x.max + ox, bbox.y.max + oy);\n//       ctx.lineTo(bbox.x.max + ox, bbox.y.min + oy);\n//       ctx.closePath();\n//       ctx.stroke();\n//     },\n\n//     drawHull: function(hull/*, offset*/) {\n//       ctx.beginPath();\n//       if(hull.length === 6) {\n//         ctx.moveTo(hull[0].x, hull[0].y);\n//         ctx.lineTo(hull[1].x, hull[1].y);\n//         ctx.lineTo(hull[2].x, hull[2].y);\n//         ctx.moveTo(hull[3].x, hull[3].y);\n//         ctx.lineTo(hull[4].x, hull[4].y);\n//       } else {\n//         ctx.moveTo(hull[0].x, hull[0].y);\n//         ctx.lineTo(hull[1].x, hull[1].y);\n//         ctx.lineTo(hull[2].x, hull[2].y);\n//         ctx.lineTo(hull[3].x, hull[3].y);\n//         ctx.moveTo(hull[4].x, hull[4].y);\n//         ctx.lineTo(hull[5].x, hull[5].y);\n//         ctx.lineTo(hull[6].x, hull[6].y);\n//         ctx.moveTo(hull[7].x, hull[7].y);\n//         ctx.lineTo(hull[8].x, hull[8].y);\n//       }\n//       ctx.stroke();\n//     },\n\n//     drawShape: function(shape, offset) {\n//       offset = offset || { x:0, y:0 };\n//       var order = shape.forward.points.length - 1;\n//       ctx.beginPath();\n//       ctx.moveTo(offset.x + shape.startcap.points[0].x, offset.y + shape.startcap.points[0].y);\n//       ctx.lineTo(offset.x + shape.startcap.points[3].x, offset.y + shape.startcap.points[3].y);\n//       if(order === 3) {\n//         ctx.bezierCurveTo(\n//           offset.x + shape.forward.points[1].x, offset.y + shape.forward.points[1].y,\n//           offset.x + shape.forward.points[2].x, offset.y + shape.forward.points[2].y,\n//           offset.x + shape.forward.points[3].x, offset.y + shape.forward.points[3].y\n//         );\n//       } else {\n//         ctx.quadraticCurveTo(\n//           offset.x + shape.forward.points[1].x, offset.y + shape.forward.points[1].y,\n//           offset.x + shape.forward.points[2].x, offset.y + shape.forward.points[2].y\n//         );\n//       }\n//       ctx.lineTo(offset.x + shape.endcap.points[3].x, offset.y + shape.endcap.points[3].y);\n//       if(order === 3) {\n//         ctx.bezierCurveTo(\n//           offset.x + shape.back.points[1].x, offset.y + shape.back.points[1].y,\n//           offset.x + shape.back.points[2].x, offset.y + shape.back.points[2].y,\n//           offset.x + shape.back.points[3].x, offset.y + shape.back.points[3].y\n//         );\n//       } else {\n//         ctx.quadraticCurveTo(\n//           offset.x + shape.back.points[1].x, offset.y + shape.back.points[1].y,\n//           offset.x + shape.back.points[2].x, offset.y + shape.back.points[2].y\n//         );\n//       }\n//       ctx.closePath();\n//       ctx.fill();\n//       ctx.stroke();\n//     },\n\n//     drawText: function(text, offset) {\n//       offset = offset || { x:0, y:0 };\n//       ctx.fillText(text, offset.x, offset.y);\n//     }\n//   };\n// }\n","import Bezier from 'bezier-js'\nimport Victor from 'victor'\n\nimport { CanvasRenderer } from './CanvasRenderer'\n// import { handleInteraction } from './interaction'\n\nfunction getT(curve, p, steps) {\n  // find T for clicked point\n  let bestT = undefined;\n  let bestDist = undefined;\n\n  const step = 1.0 / (steps || 50.0);\n\n  for(var t=0.0; t<=1.0; t+=step) {\n    const curP = curve.get(t);\n    const dist = new Victor(p.x - curP.x, p.y - curP.y).length();\n\n    if (bestT === undefined || dist < bestDist) {\n      bestT = t;\n      bestDist = dist;\n    }\n  }\n\n  return bestT;\n}\n\nclass BaseInteraction {\n  constructor(canvas, curve, opts) {\n    this.curve = curve;\n    this.canvas = canvas;\n\n    this.opts = opts || {}\n    this.setup();\n  }\n\n  setup() {\n    const down = (evt) => this._onMouseDown(evt);\n    this.canvas.addEventListener('mousedown', down);\n    const move = (evt) => this._onMouseMove(evt)\n    this.canvas.addEventListener('mousemove', move);\n    const up = (evt) => this._onMouseUp(evt)\n    this.canvas.addEventListener('mouseup', up);\n    const click = (evt) => this._onClick(evt);\n    this.canvas.addEventListener('click', click);\n    const dblclick = (evt) => this._onDoubleClick(evt);\n    this.canvas.addEventListener('dblclick', dblclick);\n\n    this.addCleanup(() => {\n      this.canvas.removeEventListener('mousedown', down);\n      this.canvas.removeEventListener('mousemove', move);\n      this.canvas.removeEventListener('mouseup', up);\n      this.canvas.removeEventListener('click', click);\n      this.canvas.removeEventListener('dblclick', dblclick);\n    });\n  }\n\n  cleanup() {\n    if (this._cleanupFuncs) {\n      this._cleanupFuncs.forEach(func => func());\n      this._cleanupFuncs = undefined;\n    }\n  }\n\n  addCleanup(func) {\n    if (!this._cleanupFuncs) {\n     this._cleanupFuncs = [];\n    }\n\n    this._cleanupFuncs.push(func);\n  }\n\n  onMouseDown() {}\n  onMouseMove() {}\n  onMouseUp() {}\n  onClick() {}\n  onDoubleClick() {}\n\n  _onMouseDown(evt) {\n    if (this.opts.mouseDownCallback) {\n      this.opts.mouseDownCallback(evt);\n    }\n    this.onMouseDown(evt);\n  }\n\n  _onMouseMove(evt) {\n    if (this.opts.mouseMoveCallback) {\n      this.opts.mouseMoveCallback(evt);\n    }\n    this.onMouseMove();\n  }\n\n  _onMouseUp(evt) {\n    if (this.opts.mouseUpCallback) {\n      this.opts.mouseUpCallback(evt);\n    }\n    this.onMouseUp();\n  }\n\n  _onClick(evt) {\n    if (this.opts.clickCallback) {\n      this.opts.clickCallback(evt);\n    }\n    this.onClick();\n  }\n\n  _onDoubleClick(evt) {\n    if (this.opts.doubleClickCallback) {\n      this.opts.doubleClickCallback(evt);\n    }\n    this.onDoubleClick();\n  }\n\n  _getCanvasOffset(evt) {\n    const e = evt || window.event;\n    const rect = (e.target || e.srcElement).getBoundingClientRect();\n    return {x: e.clientX - rect.left, y: e.clientY - rect.top};\n  }\n}\n\nclass CurveInteraction extends BaseInteraction {\n  constructor(canvas, curve, opts) {\n    super(canvas, curve, opts);\n    this.renderer = new CanvasRenderer(canvas);\n\n    opts = opts || {}\n    this.curveThickness = (opts || {}).curveThickness || 5;\n    this.curveHoverCallback = opts.curveHoverCallback;\n    this.curveClickCallback = opts.curveClickCallback;\n    this.curveClickAtCallback = opts.curveClickAtCallback;\n    this.curveIsHovered = false;\n  }\n\n  foo() {}\n\n  onMouseMove(evt) {\n    const offset = this._getCanvasOffset(evt);\n    const isHovered = this.isOverCurve(offset);\n\n    if (isHovered === this.curveIsHovered) {\n      return;\n    }\n\n    this.curveIsHovered = isHovered;\n    if (this.curveHoverCallback) {\n      this.curveHoverCallback(this.curveIsHovered);\n    }\n  }\n\n  onClick(evt) {\n    if (this.curveIsHovered) {\n      if (this.curveClickCallback) {\n        const offset = this._getCanvasOffset(evt);\n        const p = this.curve.project({x: offset.x, y: offset.y});\n        this.curveClickCallback(p.x, p.y);\n      }\n\n      if (this.curveClickAtCallback) {\n        // clicked point\n        const offset = this._getCanvasOffset(evt);\n        const p = this.curve.project({x: offset.x, y: offset.y});\n\n        // find T for clicked point\n        this.curveClickAtCallback(getT(this.curve, p, 50));\n      }\n    }\n  }\n\n  isOverCurve(offset) {\n    // get closest point ON curve\n    const p = this.curve.project(offset);\n\n    // get distance to point on curve\n    const vector = new Victor(p.x - offset.x, p.y - offset.y);\n    return vector.length() < this.curveThickness;\n  }\n}\n\nclass CurveHandlesInteraction extends BaseInteraction {\n  handleRadius = 5;\n  hoverPoint = null;\n  dragPoint = null;\n  dragPointStartPos = null;\n  downPos = null;\n  fixedPoints = [];\n\n  constructor(canvas, curve, opts) {\n    super(canvas, curve, opts);\n    this.fixedPoints = opts.fixedPoints || [];\n    this.opts = opts || {};\n  }\n\n  onMouseDown(evt) {\n    this.downPos = this._getCanvasOffset(evt);\n\n    if (this.hoverPoint) {\n      // console.log('Start dragging point');\n      this.dragPoint = this.hoverPoint;\n      this.dragPointStartPos = {x : this.hoverPoint.x, y: this.hoverPoint.y};\n    }\n  }\n\n  _pointForOffset(offset, radius) {\n    radius = radius || this.handleRadius;\n    return this.curve.points.find((p) => {\n      const dist = new Victor(p.x, p.y).distance(new Victor(offset.x, offset.y));\n      return dist < radius;\n    });\n  }\n\n  onMouseMove(evt) {\n    const offset = this._getCanvasOffset(evt);\n\n    let point = this.dragPoint || this._pointForOffset(offset);\n\n    if (point && this.fixedPoints) {\n      if (this.fixedPoints.indexOf(point) !== -1) {\n        point = undefined;\n      }\n    }\n\n    if (point !== this.hoverPoint) {\n      this.canvas.style.cursor = point === undefined ? 'default' : 'pointer';\n\n      this.hoverPoint = point;\n\n      if (this.opts.hoverPointCallback) {\n        this.opts.hoverPointCallback(this.hoverPoint);\n      }\n    }\n  \n    if(this.dragPoint === null) {\n      return;\n    }\n\n    const dragX = offset.x - this.downPos.x;\n    const dragY = offset.y - this.downPos.y;\n    this.dragPoint.x = this.dragPointStartPos.x + dragX;\n    this.dragPoint.y = this.dragPointStartPos.y + dragY;\n    this.curve.update();\n    if (this.opts.updateCallback) {\n      this.opts.updateCallback();\n    }\n  }\n\n  onMouseUp() {\n    if (this.dragPoint && this.opts.endDragCallback) {\n      this.opts.endDragCallback(this, this.dragPoint);\n    }\n\n    this.dragPoint = null;\n  }\n\n  onDoubleClick() {\n    if (this.hoverPoint === undefined) {\n      return;\n    }\n\n    if (this.opts.pointDoubleClickCallback) {\n      this.opts.pointDoubleClickCallback(this, this.hoverPoint);\n    }\n\n    if (this.opts.pointRemoveCallback) {\n      // will select the corresponding endpoint when a handle point is clicked\n      let idx = this.curve.points.indexOf(this.hoverPoint);\n      if (idx === 2) idx = 3;\n      if (idx === 1) idx = 0;\n\n      const p = this.curve.points[idx];\n      if (this.fixedPoints.indexOf(p)) { // TODO this check isn't working\n        this.opts.pointRemoveCallback(this, idx);\n      }\n    }\n  }\n}\n\n\nfunction createCircleCurves(x, y, radius) {\n  // https://stackoverflow.com/questions/1734745/how-to-create-circle-with-b%C3%A9zier-curves\n  const handleLength = radius; // * 0.552284749831;\n\n  return [\n    // top half\n    new Bezier([\n      x-radius, y,\n      x-radius, y-handleLength,\n      x+radius, y-handleLength,\n      x+radius, y\n    ]),\n    // bottom half\n    new Bezier([\n      x-radius, y,\n      x-radius, y+handleLength,\n      x+radius, y+handleLength,\n      x+radius, y\n    ])\n  ];\n}\n\nfunction getInvalidCurves(curves, offsetAmount, boundingBox, drillbitRadius, opts) {\n  const invalid = [];\n  \n  opts = opts || {};\n\n  const makeInvalid = (c) => {\n    if (invalid.indexOf(c) === -1) invalid.push(c);\n  };\n\n  const alreadyInvalid = (c) => invalid.indexOf(c) !== -1;\n\n  // find curves that exceed the boundingBox\n  curves.forEach((c) => {\n    const bbox = c.bbox();\n    if (bbox.x.min < boundingBox.x.min ||\n      bbox.x.max > boundingBox.x.max ||\n      bbox.y.min < boundingBox.y.min ||\n      bbox.y.max > boundingBox.y.max) {\n      makeInvalid(c);\n    }\n  });\n\n  // // find curves whose offsets intersect\n  // curves.forEach((c, idx) => {\n  //   if (alreadyInvalid(c)) {\n  //     return;\n  //   }\n\n  //   for (var j=0; j<idx; j++) {\n  //     const prev = curves[j];\n\n  //     const offsets1 = prev.offset(offsetAmount);\n  //     const offsets2 = c.offset(offsetAmount);\n     \n  //     const intersecting = offsets1.find((o) => {\n  //       return offsets2.find((o2) => {\n  //         return o.intersects(o2).length > 0;\n  //       }) !== undefined;\n  //     });\n\n  //     if (intersecting !== undefined) {\n  //       makeInvalid(prev);\n  //       makeInvalid(c);\n  //     }\n  //   }\n  // });\n\n  // find any point where the offset drillbit will touch the curve or any other curve\n  curves.forEach((c) => {\n    if (alreadyInvalid(c)) {\n      return;\n    }\n\n    const step = 1.0 / 20.0;\n\n    for(let t=0.0; t<=1.0; t+=step) {\n      const p = c.offset(t, -drillbitRadius-0.5);\n      const drillbitCurves = createCircleCurves(p.x, p.y, drillbitRadius);\n\n      // loop over each curve in the drillbit circle\n      const intersecting = drillbitCurves.find((dc) => {\n        // find an intersection with any part of the skateboard curves\n        return curves.find((cc) => {\n          return dc.intersects(cc).length > 0;\n        }) !== undefined;\n      });\n\n      if (intersecting !== undefined) {\n        makeInvalid(c);\n        if (opts.drillbitErrorsCallback) {\n          opts.drillbitErrorsCallback(drillbitCurves);\n        }\n      }\n    }\n  });\n\n\n  return invalid;\n}\n\nexport class Curver {\n  curves = [];\n  curveInteractions = [];\n  handlesInteractions = [];\n  cleanupFuncs = [];\n\n  hoveredPoint = undefined;\n  fixedPoints = [];\n  offsetRadius = -8;\n  drillbitRadius = 5;\n  validationDelay = 10; // ms\n  validationTimeout = undefined;\n\n  invalidCurves = [];\n  drillbitErrors = [];\n\n  boundingBox = {\n    x: {min: 0, max: 100},\n    y: {min: 0, max: 100}\n  }\n\n  constructor(canvas, curves) {\n    this.canvas = canvas;\n\n    const offset = {x: this.canvas.clientWidth / 2, y: this.canvas.clientHeight / 2};\n\n    // start with 1 curve\n    // curves = curves || [new Bezier(\n    //   0+offset.x,-100+offset.y,\n    //   50+offset.x,-70+offset.y,\n    //   50+offset.x,70+offset.y,\n    //   0+offset.x,100+offset.y)];\n\n    // start with 3 curves\n    curves = curves || [\n      new Bezier(\n        0+offset.x,-100+offset.y,\n        50+offset.x,-100+offset.y,\n        50+offset.x,-70+offset.y,\n        50+offset.x,-50+offset.y),\n      \n      new Bezier(\n        50+offset.x,-50+offset.y,\n        51+offset.x,-20+offset.y,\n        51+offset.x,20+offset.y,\n        50+offset.x,50+offset.y,),\n        \n      new Bezier(\n        50+offset.x,50+offset.y,\n        50+offset.x,60+offset.y,\n        50+offset.x,100+offset.y,\n        0+offset.x,100+offset.y),\n        \n        ];\n    \n    this.boundingBox.x.min = offset.x - 75;\n    this.boundingBox.x.max = offset.x + 75;\n    this.boundingBox.y.min = offset.y - 120;\n    this.boundingBox.y.max = offset.y + 120;\n\n    this.setup(curves);\n  }\n\n  setup(curves) {\n    this.renderer = new CanvasRenderer(this.canvas);\n\n    if (curves) {\n      this.fixedPoints = [\n        curves[0].points[0],\n        curves[curves.length-1].points[3]\n      ];\n      curves.forEach((c) => this.addCurve(c));\n    }\n\n    this.validate();\n    this.draw();\n\n    const draw = () => this.draw();\n    const resize = () => this.onWindowResize();\n\n    this.canvas.addEventListener('mousemove', draw);\n    window.addEventListener('resize', resize);\n\n    this.cleanupFuncs.push(() => {\n      this.canvas.removeEventListener('mousemove', draw);\n      window.removeEventListener('resize', resize);\n    });\n  }\n\n  cleanup() {\n    this.curves.forEach((c) => {\n      this.removeCurve(c);\n    });\n\n    this.cleanupFuncs.forEach((f) => f());\n    this.cleanupFuncs.length = 0;\n  }\n\n  draw() {\n    const offset = {x:0, y:0};\n\n    this.renderer.clear();\n\n    // render bounding box\n    this.renderer.setColor('#DDD');\n    this.renderer.drawbbox(this.boundingBox);\n\n    // render static 'mirrored' half     \n    this.renderer.setColor('#555555');\n    this._getMirrored(this.curves).forEach((c) => {\n      this.renderer.drawCurve(c, offset);\n    });\n\n    // render editable half\n    this.renderer.setColor('#000000');\n\n    this.curves.forEach((c) => {\n      this.renderer.drawSkeleton(c, offset);\n      this.renderer.drawCurve(c, offset);\n    });\n\n    // render hovered point/curve\n    if (this.hoveredPoint) {\n      this.renderer.setColor('#00AA00', () => {\n        this.renderer.drawPoints([this.hoveredPoint], offset);\n      });\n    }\n    else {\n      this.curveInteractions.forEach((int) => {\n        if (int.curveIsHovered) {\n          this.renderer.setColor('#00AA00', () => {\n            this.renderer.setLineWidth(2, () => {\n              this.renderer.drawCurve(int.curve, offset);\n            });\n          });\n        }\n      });\n    }\n    \n    // render fixed points\n    this.renderer.setColor('#DDDDDD', () => {\n      this.renderer.drawPoints(this.fixedPoints, offset);\n    });\n\n    // render offset\n    this.renderer.setColor('#EE0', () => {\n      this.curves.forEach((cc) => {\n        const offsetCurves = cc.offset(this.offsetRadius);\n        // const offsetCurves = [cc.scale(-10)];\n        offsetCurves.forEach((c) => this.renderer.drawCurve(c));\n      });\n    });\n\n    // draw invalid curves in thick red\n    this.renderer.setColor('#FF0000', () => {\n      this.renderer.setLineWidth(3, () => {\n        this.invalidCurves.forEach((c) => {\n          this.renderer.drawCurve(c);\n        });\n      });\n    });\n\n    // draw drillbit errors in thinner red\n\n    this.renderer.setColor('#FF00FF', () => {\n      this.drillbitErrors.forEach((c) => {\n        this.renderer.drawCurve(c);\n      });\n    });\n  }\n\n  validate() {\n    if (this.validationTimeout) {\n      clearTimeout(this.validationTimeout);\n    }\n\n    this.validationTimeout = setTimeout(() => {\n      this.validationTimeout = undefined;\n\n      this.drillbitErrors = []\n      this.invalidCurves = getInvalidCurves(this.curves, this.offsetRadius, this.boundingBox, this.drillbitRadius, {\n        drillbitErrorsCallback: (drillbitCurves) => {\n          // console.log('got drillbit error:', drillbitCurves);\n          drillbitCurves.forEach((c) => this.drillbitErrors.push(c));\n        }\n      });\n\n    }, this.validationDelay);\n  }\n\n  addCurve(curve) {\n    const curveInt = new CurveInteraction(this.canvas, curve, {\n      curveClickAtCallback: (t) => {\n        // points get priority over curve\n        if (this.hoveredPoint === undefined) {\n          this.splitCurveAt(curve, t);\n        }\n      }\n    });\n\n    const handlesInt = new CurveHandlesInteraction(this.canvas, curve, {\n      fixedPoints: this.fixedPoints,\n      // updateCallback: () => {\n      //   this.draw();\n      // },\n      hoverPointCallback: (p) => {\n        this.hoveredPoint = p;\n      },\n      pointRemoveCallback: (interaction, idx) => this.cut(curve, idx),\n      endDragCallback: () => {\n        this.validate();\n        this.draw();\n      }\n    });\n\n    this.curves.push(curve);\n    this.curveInteractions.push(curveInt);\n    this.handlesInteractions.push(handlesInt);\n  }\n\n  removeCurve(curve) {\n    const int = this.curveInteractions.find((int) => int.curve === curve);\n\n    if (int) {\n      int.cleanup();\n      this.curveInteractions.splice(this.curveInteractions.indexOf(int), 1);\n      // todo; cleanup handleInteractions\n    }\n\n    const handlesInt = this.handlesInteractions.find((int) => int.curve === curve);\n\n    if (handlesInt) {\n      handlesInt.cleanup();\n      this.handlesInteractions.splice(this.handlesInteractions.indexOf(handlesInt), 1);\n    }\n\n    this.curves.splice(this.curves.indexOf(curve), 1);\n  }\n\n  splitCurveAt(curve, t) {\n    // console.log('TODO split at: ', curve, t);\n    const split = curve.split(t);\n\n    const oldfixed = [...this.fixedPoints];\n    this.fixedPoints.length = 0;\n    oldfixed.forEach((p) => {\n      // fixed point not parse of split curve\n      const idx = curve.points.indexOf(p);\n      if (idx === -1) {\n        this.fixedPoints.push(p);\n      } else if (idx === 0) {\n        this.fixedPoints.push(split.left.points[0]);\n      } else if (idx === 3) {\n        this.fixedPoints.push(split.right.points[3]);\n      } else {\n        console.warn('Unexpected fixed point index for split curve: ', idx);\n      }\n    });\n\n    this.removeCurve(curve);\n    this.addCurve(split.left);\n    this.addCurve(split.right);\n    this.validate();\n    this.draw();\n  }\n\n  onWindowResize() {\n    const curves = [...this.curves];\n    this.cleanup();\n    this.setup(curves);\n  }\n\n  _getMirrored(curves) {\n    if (this.fixedPoints.length != 2 || this.fixedPoints[0].x !== this.fixedPoints[1].x) {\n      console.warn(\"No two vertically-aligned fixed points, can't mirror\");\n      return [];\n    }\n\n    const xaxis = this.fixedPoints[0].x;\n    const flip = (p) => ({\n      x: xaxis - (p.x - xaxis),\n      y: p.y});\n\n    const mirrored = curves.map((c) => {\n      const p = c.points.map((pp) => flip(pp));\n      return new Bezier(\n        p[0].x, p[0].y,\n        p[1].x, p[1].y,\n        p[2].x, p[2].y,\n        p[3].x, p[3].y,\n      )\n    });\n\n    return mirrored;\n  }\n\n  cut(curve, pidx) {\n    let pointIndex;\n    let removedPoint;\n\n    if (pidx === 0 || pidx === 1) { // start point removed\n      pointIndex = 3;\n      removedPoint = curve.points[0];\n    } else if (pidx === 3 || pidx === 2) { // end point removed\n     pointIndex = 0;\n     removedPoint = curve.points[3];\n    } else {\n      console.warn('Received unknown pidx in Curver.cut method:',pidx);\n      return;\n    }\n\n    const neighbour = this.curves.find((c) => c !== curve && c.points[pointIndex].x === removedPoint.x && c.points[pointIndex].y === removedPoint.y);\n\n    if (neighbour === undefined) {\n      console.warn('Could not find neighbouring curve');\n      return;\n    }\n\n    // console.log('Removing: ', curve, ' and extending: ', neighbour);\n    neighbour.points[pointIndex].x = curve.points[pointIndex].x;\n    neighbour.points[pointIndex].y = curve.points[pointIndex].y;\n    neighbour.update();\n\n    this.removeCurve(curve);\n    this.validate();\n    this.draw();\n  }\n}","<template>\n  <div id=\"shaper\">\n    <canvas width=\"100vw\" height=\"\" />\n  </div>\n</template>\n\n<script>\nimport { Curver } from '../lib/Curver'\n\nexport default {\n  name: 'Shaper',\n  props: {\n  },\n  created: function() {\n    \n  },\n  mounted: function() {\n    const c = this.$el.querySelector('canvas');\n    this.curver = new Curver(c);\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ncanvas {\n  border: 1px solid black; width: 100vw; height:100vh; margin:0;\n  background: url('../assets/truck-pins.png') no-repeat;\n  background-position: 50% calc(50% - 40px); \n}\n\n#shaper {\n  background: url('../assets/truck-pins.png') no-repeat;\n  background-position: 50% calc(50% + 40px); \n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shaper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shaper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shaper.vue?vue&type=template&id=4a30e140&scoped=true&\"\nimport script from \"./Shaper.vue?vue&type=script&lang=js&\"\nexport * from \"./Shaper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shaper.vue?vue&type=style&index=0&id=4a30e140&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a30e140\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\n    <!-- <HelloWorld msg=\"Welcome to Your Vue.js App\"/> -->\n    <Shaper />\n  </div>\n</template>\n\n<script>\n// import HelloWorld from './components/HelloWorld.vue'\nimport Shaper from './components/Shaper.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    // HelloWorld\n    Shaper\n  }\n}\n</script>\n\n<style>\nbody{\n  margin:0; padding:0; \n  /* background: url('./assets/wooden-board-texture-9.jpg') no-repeat  center center; \n  background-size: cover; */\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  display: block;\n  height:100vh;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=18e7e2d9&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shaper.vue?vue&type=style&index=0&id=4a30e140&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shaper.vue?vue&type=style&index=0&id=4a30e140&scoped=true&lang=css&\""],"sourceRoot":""}